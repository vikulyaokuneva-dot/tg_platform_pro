name: Telegram Content Platform

on:
  schedule:
    # –ø—Ä–∏–º–µ—Ä: 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å
    - cron: "0 9,13,18 * * *"
  workflow_dispatch: # —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

jobs:
  run-platform:
    runs-on: ubuntu-latest

    steps:
      - name: üì• Checkout repository
        uses: actions/checkout@v4

      - name: üêç Setup Python
        uses: actions/setup-python@v5
        with:
          python-version: "3.11"

      - name: üì¶ Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      - name: üöÄ Run Telegram platform
        env:
          POSTER_BOT_TOKEN: ${{ secrets.POSTER_BOT_TOKEN }}

          # === CHANNELS ===
          IT_HUMOR_CHAT_ID: ${{ secrets.IT_HUMOR_CHAT_ID }}
          CRYPTO_NEWS_CHAT_ID: ${{ secrets.CRYPTO_NEWS_CHAT_ID }}
          CRYPTO_AIRDROPS_CHAT_ID: ${{ secrets.CRYPTO_AIRDROPS_CHAT_ID }}
          AI_AUTOMATION_CHAT_ID: ${{ secrets.AI_AUTOMATION_CHAT_ID }}
          PERSONAL_FINANCE_CHAT_ID: ${{ secrets.PERSONAL_FINANCE_CHAT_ID }}
          STOCKS_INVESTING_CHAT_ID: ${{ secrets.STOCKS_INVESTING_CHAT_ID }}

        run: |
          python -m app
